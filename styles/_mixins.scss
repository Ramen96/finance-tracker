@use "@/styles/variables" as vars;

// ========================================
// Dimension Helpers
// ========================================

@mixin h-full {
  height: 100%;
}

@mixin h-auto {
  height: auto;
}

@mixin h-custom($h) {
  height: $h;
}

@mixin h-100vh {
  height: 100vh;
}

@mixin w-100vw {
  width: 100vw;
}

@mixin w-full {
  width: 100%;
}

// ========================================
// Flexbox Helpers
// ========================================

@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

@mixin flex-center-v {
  display: flex;
  justify-content: center;
}

@mixin flex-center-h {
  display: flex;
  align-items: center;
}

@mixin flex-wrap {
  flex-wrap: wrap;
}

@mixin label-row {
  display: flex;
  justify-content: space-around;
  align-items: center;
  width: 100%;
  gap: 1.5rem;
}

@mixin label-row-primary {
  @include label-row;
  font-family: var(--font-display);
  letter-spacing: 0.15rem;
  text-transform: uppercase;
}

@mixin label-row-secondary {
  @include label-row;
  font-size: medium;
  font-weight: 200;
}

// ========================================
// Styling Helpers
// ========================================

@mixin radius {
  border-radius: vars.$radius;
}

@mixin radius-sm {
  border-radius: vars.$radius-sm;
}

@mixin pointer {
  cursor: pointer;
}

@mixin interactive {
  outline: none;
  user-select: none;
  cursor: pointer;
}

@mixin no-select {
  user-select: none;
}

@mixin no-outline {
  outline: none;
}

// ========================================
// Positioning Helpers
// ========================================

@mixin fixed-top-right($top: vars.$spacing-md, $right: vars.$spacing-md) {
  position: fixed;
  top: $top;
  right: $right;
}

@mixin fixed-top-left($top: vars.$spacing-md, $left: vars.$spacing-md) {
  position: fixed;
  top: $top;
  left: $left;
}

@mixin absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

@mixin absolute-bottom-left {
  position: absolute;
  bottom: 0;
  left: 0;
}

@mixin relative {
  position: relative;
}

// ========================================
// Text Positioning 
// ========================================

@mixin text-center {
  text-align: center;
}

// ========================================
// Transitions & Effects
// ========================================

@mixin transition($property: all) {
  transition: $property var(--transition);
}

// ========================================
// Shadows
// ========================================

@mixin shadow-primary {
  box-shadow: vars.$icon-size vars.$icon-size 0 var(--primary-light-inverse, var(--primary-light));
}

@mixin shadow-primary-light {
  box-shadow: vars.$icon-size vars.$icon-size 0 var(--primary-light);
}

@mixin shadow-primary-inverse {
  box-shadow: vars.$icon-size vars.$icon-size 0 var(--text-inverse);
}

@mixin shadow-sm {
  box-shadow: var(--shadow-sm);
}

@mixin shadow {
  box-shadow: var(--shadow);
}

@mixin shadow-md {
  box-shadow: var(--shadow-md);
}

@mixin shadow-lg {
  box-shadow: var(--shadow-lg);
}

// ========================================
// Borders
// ========================================

@mixin border($width: 1px, $color: var(--border)) {
  border: $width solid $color;
}

@mixin border-primary($width: 0.2rem) {
  border: $width solid var(--primary);
}

// ========================================
// Spacing Helpers
// ========================================

@mixin p($size) {
  padding: $size;
}

@mixin m($size) {
  margin: $size;
}

@mixin mr-05rem {
  margin-right: vars.$spacing-md;
}

// ========================================
// Visibility
// ========================================

@mixin hidden {
  height: 0;
  width: 0;
  visibility: hidden;
}

@mixin sr-only {
  margin: -1px;
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

// ========================================
// Media Query Helpers
// ========================================

@mixin respond($breakpoint) {
  @if $breakpoint == md {
    @media (min-width: 768px) { @content; }
  }
  @else if $breakpoint == lg {
    @media (min-width: 1024px) { @content; }
  }
}

// ========================================
// Button Mixins
// ========================================

@mixin btn-base {
  @include radius;
  @include transition;
  font-family: var(--font-display), sans-serif;
  font-size: vars.$font-size-md;
  border: none;
  cursor: pointer;
  
  &:hover {
    cursor: pointer;
  }
}

@mixin btnPrimary {
  @include btn-base;
  @include m(vars.$spacing-sm);
  @include shadow-primary;
  border: 1px solid var(--primary-light-inverse, var(--primary-light));
  color: var(--primary-light);
  background: var(--primary);
  padding: vars.$spacing-sm 1rem;
  
  &:hover {
    background: var(--primary-hover);
    transform: scale(1.03);
  }
}

@mixin btnSecondary {
  @include btn-base;
  @include shadow-primary;
  @include m(vars.$spacing-sm);
  color: var(--secondary-text);
  background: var(--secondary);
  padding: vars.$spacing-xs 1rem;
  
  &:hover {
    background: var(--secondary-hover);
  }
}

@mixin btnTertiary {
  @include btn-base;
  @include shadow-primary-inverse;
  @include m(vars.$spacing-sm);
  border: 1px solid var(--border);
  color: var(--tertiary-text);
  background: var(--bg-elevated);
  padding: 0.35rem 0.9rem;
  
  &:hover {
    background: var(--tertiary-hover);
  }
}

// ========================================
// Text Inputs
// ========================================

@mixin textInputPrimary {
  @include radius;
  @include no-outline;
  @include m(vars.$spacing-lg);
  box-shadow: vars.$icon-size vars.$icon-size 0 var(--text-input-shadow);
  padding: vars.$spacing-xs 0.5rem;
  width: vars.$input-width;
  height: vars.$input-height;
  color: var(--text-input-text);
  border: 1px solid var(--primary-light-inverse);
  font-family: var(--font-main);
  letter-spacing: vars.$letter-spacing;
  font-size: vars.$font-size-large;
  text-align: left;
  background: var(--text-input-bg);
  caret-shape: block;
  
  &::placeholder {
    text-align: center;
    color: var(--text-input-text);
  }
}

// ========================================
// Password Input
// ========================================

@mixin passwdWrapper {
  position: relative;
}

@mixin eyeBtn {
  @include flex-center;
  border-radius: vars.$radius-sm;
  border: none;
  color: var(--text-input-text);
  background: transparent;
  cursor: pointer;
  position: absolute;
  top: 50%;
  right: vars.$eye-btn-distance;
  transform: translateY(-50%);
  z-index: 100;
  
  &:focus {
    outline: none;
  }
}

// ========================================
// Checkbox
// ========================================

@mixin checkbox {
  @include radius;
  font-family: var(--font-display), sans-serif;
  letter-spacing: vars.$letter-spacing;
  font-size: 1rem;
  color: var(--primary-light);
  background: #333;
  width: vars.$checkbox-size;
  height: vars.$checkbox-size;
  
  &:checked {
    background: #0a5fdf;
  }
}

@mixin checkboxInput {
  opacity: 0;
  position: absolute;
  left: -9999px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

// ========================================
// Containers
// ========================================

@mixin mainContainer {
  @include h-full;
  @include w-full;
  position: absolute;
  top: 0;
  left: 0;
  display: flex;
}

@mixin contentContainer {
  width: 100%;
  height: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-content: flex-start;
}

// ========================================
// Cards
// ========================================

@mixin card {
  @include shadow-lg;
  @include radius;
  width: fit-content;
  height: fit-content;
  min-width: vars.$card-width;
  background: var(--bg-elevated);
  letter-spacing: 0.25rem;
  margin: vars.$spacing-xl;
  padding: vars.$spacing-xl;
  display: flex;
  flex-wrap: wrap;
}

@mixin card-item {
  @include shadow-md;
  @include radius;
  @include border;
  width: fit-content;
  height: fit-content;
  background: var(--bg-tertiary);
  margin: vars.$spacing-xl;
  padding: vars.$spacing-xl;
  display: flex;
  flex-direction: row;
}

// ========================================
// Navigation
// ========================================

@mixin nav {
  @include radius;
  @include w-full;
  @include flex-center;
  margin: vars.$spacing-md;
  height: 1rem;
  padding: vars.$spacing-2xl;
}


// ========================================
// Grid & Table Helpers
// ========================================

@mixin grid-two-col($col1: 1fr, $col2: 0.8fr, $gap: vars.$spacing-md) {
  display: grid;
  grid-template-columns: $col1 $col2;
  gap: $gap;
}

@mixin table-header {
  @include grid-two-col;
  @include p(vars.$spacing-md);
  @include radius;
  background: var(--bg-secondary);
  font-weight: 600;
  font-family: var(--font-display), sans-serif;
  color: var(--text);
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.05rem;
}

@mixin table-row {
  @include grid-two-col;
  @include p(vars.$spacing-md);
  @include radius;
  @include border;
  @include transition;
  background: var(--bg-tertiary);
  
  &:hover {
    background: var(--bg-elevated);
    border-color: var(--primary);
    @include shadow-sm;
  }
}

// ========================================
// Section Headers
// ========================================

@mixin section-header($border-width: 2px) {
  display: flex;
  align-items: center;
  gap: vars.$spacing-md;
  padding-bottom: vars.$spacing-md;
  border-bottom: $border-width solid var(--border);
  
  h2 {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--text);
    margin: 0;
  }
}

@mixin section-icon {
  @include flex-center;
  color: var(--primary);
  flex-shrink: 0;
}

// ========================================
// Page Headers
// ========================================

@mixin page-header {
  @include w-full;
  display: flex;
  flex-direction: column;
  gap: vars.$spacing-sm;
  margin-bottom: vars.$spacing-lg;

  h1 {
    font-size: 2rem;
    font-weight: 700;
    color: var(--text);
    margin: 0;
  }

  p {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin: 0;
  }
}

// ========================================
// Category/Card Sections
// ========================================

@mixin category-card {
  @include card;
  @include shadow-primary;
  @include p(vars.$spacing-lg);
  display: flex;
  flex-direction: column;
  gap: vars.$spacing-md;
  width: fit-content;
  min-width: 280px;
  max-width: 420px;
  height: fit-content;
  margin: 0;

  @media (max-width: 768px) {
    @include w-full;
    max-width: none;
  }
}

// ========================================
// Total Display Sections
// ========================================

@mixin category-total {
  @include grid-two-col(1fr, 0.8fr, vars.$spacing-lg);
  @include p(vars.$spacing-lg);
  @include radius;
  font-family: var(--font-display);
  background: var(--primary);
  margin-top: vars.$spacing-sm;
  font-weight: 700;

  .totalLabel {
    color: var(--primary-text);
    text-align: left;
  }

  .totalAmount {
    color: var(--primary-text);
    text-align: right;
    font-size: 1.15rem;
  }
}

@mixin grand-total {
  @include flex-center;
  @include p(vars.$spacing-lg vars.$spacing-md);
  @include radius;
  @include border(2px, var(--primary));
  @include w-full;
  background: var(--bg-secondary);
  margin-top: vars.$spacing-lg;
  box-sizing: border-box;
}

@mixin grand-total-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: vars.$spacing-md;

  h2 {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--text);
    margin: 0;
  }
}

@mixin grand-total-amount($color: var(--success)) {
  font-size: 2.5rem;
  font-weight: 800;
  color: $color;
  letter-spacing: 0.05rem;
}

// ========================================
// Container Layouts
// ========================================

@mixin page-container($max-width: 1400px) {
  @include w-full;
  @include flex-center;
  font-family: var(--font-display), sans-serif;
  flex-direction: column;
  padding: vars.$spacing-xl;
  gap: vars.$spacing-2xl;
  overflow-y: auto;
  overflow-x: hidden;
  max-width: $max-width;
  margin: 0 auto;
}

@mixin responsive-grid($gap: vars.$spacing-lg) {
  @include w-full;
  display: flex;
  flex-wrap: wrap;
  gap: $gap;
}

// ========================================
// Table Components
// ========================================

@mixin data-table {
  display: flex;
  font-family: var(--font-main), sans-serif;
  flex-direction: column;
  gap: vars.$spacing-sm;
  @include w-full;
}

@mixin table-body {
  display: flex;
  flex-direction: column;
  gap: vars.$spacing-sm;
  @include w-full;
}

// ========================================
// Text Alignment Utilities
// ========================================

@mixin text-left {
  text-align: left;
}

@mixin text-right {
  text-align: right;
}

// ========================================
// Table Header & Row Variants
// ========================================

@mixin table-header-assets {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 0.8fr;
  gap: vars.$spacing-md;
  @include p(vars.$spacing-md);
  @include radius;
  background: var(--bg-secondary);
  font-weight: 600;
  font-family: var(--font-display), sans-serif;
  color: var(--text);
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.05rem;
}

@mixin table-row-assets {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 0.8fr;
  gap: vars.$spacing-md;
  @include p(vars.$spacing-md);
  @include radius;
  @include border;
  @include transition;
  background: var(--bg-tertiary);
  align-items: center;

  &:hover {
    background: var(--bg-elevated);
    border-color: var(--primary);
    @include shadow-sm;
  }
}

@mixin table-header-liabilities {
  display: grid;
  grid-template-columns: 1.2fr 1fr 0.8fr 0.6fr 0.9fr;
  gap: vars.$spacing-xs;
  @include p(vars.$spacing-sm vars.$spacing-md);
  @include radius;
  background: var(--bg-secondary);
  font-weight: 600;
  font-family: var(--font-display), sans-serif;
  color: var(--text);
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.05rem;
}

@mixin table-row-liabilities {
  display: grid;
  grid-template-columns: 1.2fr 1fr 0.8fr 0.6fr 0.9fr;
  gap: vars.$spacing-xs;
  @include p(vars.$spacing-sm vars.$spacing-md);
  @include radius;
  @include border;
  @include transition;
  background: var(--bg-tertiary);
  align-items: center;

  &:hover {
    background: var(--bg-elevated);
    border-color: var(--primary);
    @include shadow-sm;
  }
}

// ========================================
// Action Buttons (Edit/Delete)
// ========================================

@mixin action-btn-edit {
  @include flex-center;
  @include radius-sm;
  @include transition;
  padding: vars.$spacing-xs;
  background: var(--primary);
  color: var(--primary-text);
  border: none;
  cursor: pointer;

  &:hover {
    background: var(--primary-hover);
    transform: scale(1.1);
  }
}

@mixin action-btn-delete {
  @include flex-center;
  @include radius-sm;
  @include transition;
  padding: vars.$spacing-xs;
  background: var(--error, #ef4444);
  color: white;
  border: none;
  cursor: pointer;

  &:hover {
    background: var(--error-hover, #dc2626);
    transform: scale(1.1);
  }
}

// ========================================
// Column Text Styling
// ========================================

@mixin column-name {
  @include text-left;
  color: var(--text);
  font-weight: 500;
}

@mixin column-value {
  @include text-right;
  color: var(--text);
  font-weight: 600;
  font-size: 1.05rem;
}

@mixin column-success {
  @include text-right;
  color: var(--success);
  font-weight: 600;
}

@mixin column-error {
  @include text-right;
  color: var(--error, #ef4444);
  font-weight: 600;
  font-size: 1.05rem;
}

@mixin column-secondary {
  @include text-right;
  color: var(--text-secondary);
  font-weight: 500;
  font-size: 0.95rem;
}

// ========================================
// Amount Display Styling
// ========================================

@mixin amount-display-value($font-size: 1.4rem) {
  font-family: var(--font-display), sans-serif;
  font-size: $font-size;
  font-weight: 700;
  color: var(--text);
}